{"version":3,"sources":["constants/routes.js","components/Session/context.js","components/Firebase/context.js","components/Firebase/firebase.js","components/Firebase/index.js","components/Session/withAuthentication.js","components/Session/withAuthorization.js","components/SignOut/index.js","components/Navigation/index.js","components/Landing/index.js","components/SignUp/index.js","components/SignIn/index.js","components/Home/index.js","components/Account/index.js","components/Admin/index.js","components/App/index.js","serviceWorker.js","index.js"],"names":["HOME","AuthUserContext","React","createContext","FirebaseContext","withFirebase","Component","props","react_default","a","createElement","Consumer","firebase","Object","assign","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","_this","this","classCallCheck","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","user","uid","db","ref","concat","users","app","initializeApp","database","withAuthentication","WithAuthentication","_React$Component","possibleConstructorReturn","getPrototypeOf","call","state","authUser","inherits","createClass","key","value","_this2","listener","onAuthStateChanged","setState","context","Provider","withAuthorization","condition","WithAuthorization","apply","arguments","history","push","compose","withRouter","_ref","type","onClick","NavigationAuth","react_router_dom","to","ROUTES","SignOut","NavigationNonAuth","Navigation","Navigation_NavigationAuth","Navigation_NavigationNonAuth","Landing","INITIAL_STATE","username","passwordOne","passwordTwo","error","SignUpFormBase","onSubmit","event","_this$state","then","set","objectSpread","catch","preventDefault","onChange","defineProperty","target","name","_this$state2","isInvalid","placeholder","disabled","message","SignUpLink","SignUpForm","SignUpPage","SignInFormBase","SignInForm","SignInPage","SignUp_SignUpLink","Account","AdminPage","loading","on","snapshot","usersObject","val","usersList","keys","map","off","Admin_UserList","UserList","components_Navigation","react_router","exact","path","component","LandingPage","HomePage","AccountPage","Boolean","window","location","hostname","match","ReactDOM","render","Firebase_context","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fe393d40.chunk.js","sourcesContent":["export const LANDING = '/';\nexport const SIGN_UP = '/registro';\nexport const SIGN_IN = '/iniciar';\nexport const HOME = '/home';\nexport const ACCOUNT = '/cuenta';\nexport const ADMIN = '/admin';","import React from 'react';\n\nconst AuthUserContext = React.createContext(null);\n\nexport default AuthUserContext;","import React from 'react';\n\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n    <FirebaseContext.Consumer>\n        {firebase => <Component {...props} firebase={firebase} />}\n    </FirebaseContext.Consumer>\n)\n\nexport default FirebaseContext;","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\n\nconst config = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n};\n\nclass Firebase {\n    constructor() {\n        app.initializeApp(config);\n\n        this.auth = app.auth();\n        this.db = app.database();\n    }\n\n    //Auth API\n    doCreateUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n    doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n    doSignOut = () => this.auth.signOut();\n\n    //User API\n    user = uid => this.db.ref(`users/${uid}`);\n    users = () => this.db.ref('users');\n}\n\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\n\nexport default Firebase;\nexport { FirebaseContext, withFirebase };","import React from 'react';\n\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\n\nconst withAuthentication = Component => {\n    class WithAuthentication extends React.Component {\n        constructor(props) {\n            super(props);\n\n            this.state = {\n                authUser: null,\n            };\n        }\n\n        componentDidMount() {\n            this.listener = this.props.firebase.auth.onAuthStateChanged(\n                authUser => {\n                    authUser\n                    ? this.setState({ authUser })\n                    : this.setState({ authUser:null });\n                },\n            );\n        }\n\n        componentWillUnmount() {\n            this.listener();\n        }\n\n        render() {\n            return (\n                <AuthUserContext.Provider value={this.state.authUser}>\n                    <Component {...this.props} />\n                </AuthUserContext.Provider>\n            );\n        }\n    }\n\n    return withFirebase(WithAuthentication);\n};\n\nexport default withAuthentication;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport AuthUserContext from './context';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst withAuthorization = condition => Component => {\n    class WithAuthorization extends React.Component {\n        componentDidMount() {\n            this.listener = this.props.firebase.auth.onAuthStateChanged(authUser => {\n                if (!condition(authUser)) {\n                    this.props.history.push(ROUTES.SIGN_IN);\n                }\n            });\n        }\n\n        componentWillUnmount() {\n            this.listener();\n        }\n\n        render () {\n            return (\n                <AuthUserContext.Consumer>\n                    {authUser =>\n                        condition(authUser) ? <Component {...this.props} /> : null\n                    }\n                </AuthUserContext.Consumer>\n            );\n        }\n    }\n\n    return compose(\n        withRouter,\n        withFirebase,\n    )(WithAuthorization);\n};\n\nexport default withAuthorization;","import React from 'react';\nimport { withFirebase } from '../Firebase';\n\nconst SignOutButton = ({ firebase }) => (\n    <button type=\"button\" onClick={firebase.doSignOut}>Cerrar sesión</button>\n);\n\nexport default withFirebase(SignOutButton);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport SignOutButton from '../SignOut';\nimport { AuthUserContext } from '../Session';\nimport * as ROUTES from '../../constants/routes';\n\nconst Navigation = () => (\n    <div>\n        <AuthUserContext.Consumer>\n            {authUser =>\n                authUser ? <NavigationAuth /> : <NavigationNonAuth />\n            }\n        </AuthUserContext.Consumer>\n    </div>\n);\n\nconst NavigationAuth = () => (\n        <ul>\n            <li><Link to={ROUTES.LANDING}>Landing</Link></li>\n            <li><Link to={ROUTES.HOME}>Muro</Link></li>\n            <li><Link to={ROUTES.ADMIN}>Cuenta</Link></li>\n            <li><SignOutButton /></li>\n        </ul>\n);\n\nconst NavigationNonAuth = () => (\n    <ul>\n        <li><Link to={ROUTES.LANDING}>Landing</Link></li>\n        <li><Link to={ROUTES.SIGN_IN}>Iniciar sesión</Link></li>\n    </ul>\n);\n\nexport default Navigation;","import React from 'react';\n//import { SignUpForm } from '../SignUp';\n\nconst Landing = () => (\n    <div>\n        <h1>Landing</h1>\n        {/*<SignUpForm />*/}\n    </div>\n);\n\nexport default Landing;","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst SignUpPage = () => (\n    <div>\n        <h1>Registro de usuarios</h1>\n        <SignUpForm />\n    </div>\n);\n\nconst INITIAL_STATE = {\n    username: '',\n    email: '',\n    passwordOne: '',\n    passwordTwo: '',\n    error: null,\n};\n\nclass SignUpFormBase extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { ...INITIAL_STATE };\n    }\n\n    onSubmit = event => {\n        const { username, email, passwordOne } = this.state;\n\n        this.props.firebase\n        .doCreateUserWithEmailAndPassword(email, passwordOne)\n        .then(authUser => {\n            return this.props.firebase\n            .user(authUser.user.uid)\n            .set({\n                username,\n                email,\n            });\n        })\n        .then(() => {\n            this.setState({ ...INITIAL_STATE });\n            this.props.history.push(ROUTES.HOME);\n        })\n        .catch(error => {\n            this.setState({ error });\n        });\n\n        event.preventDefault();\n    };\n\n    onChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    render() {\n        const {\n            username, email, passwordOne, passwordTwo, error,\n        } = this.state;\n\n        const isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '' || username === '';\n\n        return(\n            <form onSubmit={this.onSubmit}>\n                <input name=\"username\" value={username} onChange={this.onChange} type=\"text\" placeholder=\"Nombre completo\"></input>\n                <input name=\"email\" value={email} onChange={this.onChange} type=\"text\" placeholder=\"Correo electrónico\"></input>\n                <input name=\"passwordOne\" value={passwordOne} onChange={this.onChange} type=\"password\" placeholder=\"Contraseña\"></input>\n                <input name=\"passwordTwo\" value={passwordTwo} onChange={this.onChange} type=\"password\" placeholder=\"Confirmar contraseña\"></input>\n                <button disabled={isInvalid} type=\"submit\">Registrarse</button>\n\n                {error && <p>{error.message}</p>}\n            </form>\n        );\n    }\n}\n\nconst SignUpLink = () => (\n    <p>¿No tienes cuenta? <Link to={ROUTES.SIGN_UP}>Aquí puedes crearla</Link></p>\n);\n\nconst SignUpForm = compose (\n    withRouter,\n    withFirebase,\n    )(SignUpFormBase);\n\nexport default SignUpPage;\n\nexport { SignUpForm, SignUpLink };","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { SignUpLink } from '../SignUp';\nimport { withFirebase } from '../Firebase';\nimport * as ROUTES from '../../constants/routes';\n\nconst SignInPage = () => (\n    <div>\n        <h1>Inicio de sesión</h1>\n        <SignInForm />\n        <SignUpLink />\n    </div>\n);\n\nconst INITIAL_STATE = {\n    email: '',\n    password: '',\n    error: null,\n};\n\nclass SignInFormBase extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { ...INITIAL_STATE };\n    }\n\n    onSubmit = event => {\n        const { email, password } = this.state;\n\n        this.props.firebase\n            .doSignInWithEmailAndPassword(email, password)\n            .then(() => {\n                this.setState({ ...INITIAL_STATE });\n                this.props.history.push(ROUTES.HOME);\n            })\n            .catch(error => {\n                this.setState({ error });\n            });\n\n        event.preventDefault();\n    };\n\n    onChange = event => {\n        this.setState({ [event.target.name]: event.target.value })\n    };\n\n    render() {\n        const { email, password, error } = this.state;\n\n        const isInvalid = password === '' || email === '';\n\n        return (\n            <form onSubmit={this.onSubmit}>\n                <input name=\"email\" value= {email} onChange={this.onChange} type=\"text\" placeholder=\"Correo electrónico\"></input>\n                <input name=\"password\" value= {password} onChange={this.onChange} type=\"password\" placeholder=\"Contraseña\"></input>\n                <button disabled={isInvalid} type=\"submit\" >Iniciar sesión</button>\n\n                {error && <p>{error.message}</p>}\n            </form>\n        );\n    }\n}\n\nconst SignInForm = compose(\n    withRouter,\n    withFirebase,\n)(SignInFormBase);\n\nexport default SignInPage;\n\nexport { SignInForm };","import React from 'react';\nimport { withAuthorization } from '../Session';\n\nconst HomePage = () => (\n    <div>\n        <h1>Muro de publicaciones</h1>\n        <p>Esta página es accesible para todos los usuarios con cuenta de sesión iniciada.</p>\n    </div>\n);\n\nconst condition = authUser => !!authUser;\n\nexport default withAuthorization(condition)(HomePage);","import React from 'react';\n\nconst Account = () => (\n    <div>\n        <h1>Account</h1>\n    </div>\n);\n\nexport default Account;","import React, { Component } from 'react';\nimport { withFirebase } from '../Firebase';\n\nclass AdminPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: false,\n            users: [],\n        };\n    }\n\n    componentDidMount() {\n        this.setState({ loading:true });\n\n        this.props.firebase.users().on('value', snapshot => {\n            const usersObject = snapshot.val();\n\n            const usersList = Object.keys(usersObject).map(key => ({\n                ...usersObject[key],\n                uid:key,\n            }));\n\n            this.setState({\n                users: usersList,\n                loading: false,\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.props.firebase.users().off();\n    }\n\n    render() {\n        const { users, loading } = this.state;\n\n        return(\n            <div>\n                <h1>Admin</h1>\n                {loading && <div>Loading ...</div>}\n                <UserList users={users} />\n            </div>\n        );\n    }\n}\n\nconst UserList = ({ users }) => (\n    <ul>\n        {users.map(user => (\n            <li key={user.uid}>\n                <span>\n                    <strong>ID: </strong> {user.uid}\n                </span>\n                <span>\n                    <strong>Correo electrónico: </strong> {user.email}\n                </span>\n                <span>\n                    <strong>Usuario: </strong> {user.username}\n                </span>\n            </li>\n        ))}\n    </ul>\n)\n\nexport default withFirebase(AdminPage);","import React from 'react';\nimport { HashRouter as Router, Route, } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\nimport { withAuthentication } from '../Session';\n\nimport Navigation from '../Navigation';\nimport LandingPage from '../Landing';\nimport SignUpPage from '../SignUp';\nimport SignInPage from '../SignIn';\nimport HomePage from '../Home';\nimport AccountPage from '../Account';\nimport AdminPage from '../Admin';\n\nconst App = () => (\n    <Router>\n        <div>\n            <Navigation />\n            <hr />\n\n            <Route exact path={ROUTES.LANDING} component={LandingPage} />\n            <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\n            <Route path={ROUTES.SIGN_IN} component={SignInPage} />\n            <Route path={ROUTES.HOME} component={HomePage} />\n            <Route path={ROUTES.ACCOUNT} component={AccountPage} />\n            <Route path={ROUTES.ADMIN} component={AdminPage} />\n        </div>\n    </Router>\n);\n\nexport default withAuthentication(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport Firebase, { FirebaseContext } from './components/Firebase';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <FirebaseContext.Provider value={new Firebase()}>\n        <App />\n    </FirebaseContext.Provider>,\n    document.getElementById('root'),\n    );\n\nserviceWorker.unregister();"],"sourceRoot":""}